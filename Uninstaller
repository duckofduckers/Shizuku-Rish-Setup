#!/bin/bash

RED='\033[1;31m'
GREEN='\033[1;32m'
BLUE='\033[1;34m'
YELLOW='\033[1;33m'
X='\033[0m'

[ -z "${BASH_VERSION:-}" ] && echo "${RED}[*] This script must be run with bash" && exit 1

if [[ -z "$PREFIX" || -z "$TERMUX_VERSION" ]]; then
    echo -e "${RED}[*] This script must be ran in Termux${X}"
    exit 1
fi

BIN="/data/data/com.termux/files/usr/bin"
RISH_BIN="$BIN/rish"
DEX_BIN="$BIN/rish_shizuku.dex"

any_deleted=false

for f in "$RISH_BIN" "$DEX_BIN"; do
    if [ -f "$f" ]; then
        rm -f "$f" && echo -e "${GREEN}[*] $(basename "$f") uninstalled successfully${X}"
        any_deleted=true
    else
        echo -e "${YELLOW}[*] $(basename "$f") not found${X}"
    fi
done

if [ "$any_deleted" = false ]; then
    echo -e "${BLUE}[*] No rish files found${X}"
fi
